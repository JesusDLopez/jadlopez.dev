@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400&family=Space+Grotesk:wght@500&family=JetBrains+Mono:wght@400;600&family=IBM+Plex+Sans:wght@300;500&display=swap");

/* CSS Custom Properties for theming */
:root {
  /* Dark theme (default) */
  --bg-color: #0b0b0b;
  --text-color: white;
  --nav-bg: rgba(0, 0, 0, 0.2);
  --nav-text: white;

  /* Hero section colors */
  --hero-title-color: white;
  --hero-subtitle-color: rgba(255, 255, 255, 0.9);

  /* Headers system */
  --h1-color: white;
  --h2-color: white;
  --h3-color: white;
  --h4-color: rgba(255, 255, 255, 0.9);

  /* About section timeline */
  --timeline-spine-color: rgba(255, 255, 255, 0.6);

  /* Work section organelles */
  --organelle-bg: rgba(255, 255, 255, 0.12);
  --organelle-border: rgba(255, 255, 255, 0.2);
  --project-link-color: #9df;

  /* DNA styling */
  --dna-filter: none;

  /* Cell visualization colors - Dark theme */
  --cell-membrane-color: #06b6d4; /* Cyan (from title gradient) */
  --cell-membrane-glow: rgba(6, 182, 212, 0.3);
  --cell-membrane-inner: rgba(59, 130, 246, 0.5); /* Blue inner membrane */
  --cell-interior-bg: rgba(
    59,
    130,
    246,
    0.12
  ); /* Blue interior (#3b82f6 at 12% opacity) */

  /* Organelle colors - Dark theme (minimal grayscale with patterns) */
  --organelle-education: rgba(
    240,
    240,
    245,
    0.15
  ); /* Light subtle gray - Education/Melanoma */
  --organelle-research: rgba(
    235,
    235,
    240,
    0.12
  ); /* Lighter gray - Research/Hearing Loss */
  --organelle-automation: rgba(
    245,
    245,
    250,
    0.18
  ); /* Brightest gray - Automation/PRS */
  --organelle-clinical: rgba(
    230,
    230,
    235,
    0.14
  ); /* Mid-tone gray - Clinical Tool */

  /* Organelle depth gradients - Dark theme (cyan tint) */
  --organelle-education-highlight: rgba(6, 182, 212, 0.25);
  --organelle-education-shadow: rgba(6, 182, 212, 0.08);
  --organelle-research-highlight: rgba(6, 182, 212, 0.22);
  --organelle-research-shadow: rgba(6, 182, 212, 0.07);
  --organelle-automation-highlight: rgba(6, 182, 212, 0.28);
  --organelle-automation-shadow: rgba(6, 182, 212, 0.1);
  --organelle-clinical-highlight: rgba(6, 182, 212, 0.24);
  --organelle-clinical-shadow: rgba(6, 182, 212, 0.09);

  /* Hover glow */
  --organelle-hover-glow: #06b6d4; /* Cyan */

  /* Placeholder capsule colors - Dark mode */
  --placeholder-bg-rgb: 240, 240, 245; /* Light gray */
  --placeholder-border-rgb: 255, 255, 255; /* White border */

  /* Layout spacing scale */
  --space-0: 0;
  --space-2: clamp(1.5rem, 2.5vh, 2.5rem);
  --space-3: clamp(2rem, 3.5vh, 3.5rem);
  --space-4: clamp(3rem, 6vh, 5rem);
  --space-5: clamp(4rem, 7.5vh, 6rem);

  /* Section spacing contract */
  --section-min-height: 100vh;
  --section-padding-x-default: clamp(1.5rem, 8vw, 6rem);
  --section-gap-tight: var(--space-2);
  --section-gap-standard: var(--space-4);
  --section-gap-extended: var(--space-5);
  --section-gap-reveal: clamp(1.25rem, 2vh, 2.5rem);
  --section-gap-none: var(--space-0);

  /* Spacer utilities */
  --spacer-tight: var(--space-2);
  --spacer-default: var(--space-3);
  --spacer-reveal: clamp(2rem, 3vh, 3.5rem);
  --spacer-extended: var(--space-5);

  /* About timeline tokens */
  --timeline-frame-margin: clamp(0.5rem, 1vh, 1rem);
  --timeline-frame-padding: clamp(0.8rem, 1.5vw, 1.6rem);
  --timeline-frame-radius: clamp(28px, 4vw, 46px);
  --timeline-canvas-extra: 1500px;
}

body.light-theme {
  /* Light theme variables */
  --bg-color: #f8fafc;
  --text-color: #1f2937;
  --nav-bg: rgba(255, 255, 255, 0.2);
  --nav-text: #1f2937;

  /* Hero section colors */
  --hero-title-color: #111827;
  --hero-subtitle-color: #374151;

  /* Headers system */
  --h1-color: #111827;
  --h2-color: #1f2937;
  --h3-color: #374151;
  --h4-color: #6b7280;

  /* About section timeline */
  --timeline-spine-color: rgba(55, 65, 81, 0.6);

  /* Work section organelles */
  --organelle-bg: rgba(0, 0, 0, 0.12);
  --organelle-border: rgba(55, 65, 81, 0.3);
  --project-link-color: #4f9ade;

  /* DNA styling */
  --dna-filter: none;

  /* Cell visualization colors - Light theme */
  --cell-membrane-color: #e91e63; /* Pink (from title gradient) */
  --cell-membrane-glow: rgba(233, 30, 99, 0.2);
  --cell-membrane-inner: rgba(255, 142, 83, 0.5); /* Orange inner membrane */
  --cell-interior-bg: rgba(
    255,
    107,
    53,
    0.15
  ); /* Orange interior (#ff6b35 at 15% opacity) */

  /* Organelle colors - Light theme (minimal grayscale with patterns) */
  --organelle-education: rgba(
    50,
    50,
    55,
    0.1
  ); /* Dark subtle gray - Education/Melanoma */
  --organelle-research: rgba(
    45,
    45,
    50,
    0.08
  ); /* Darker gray - Research/Hearing Loss */
  --organelle-automation: rgba(
    55,
    55,
    60,
    0.12
  ); /* Mid-dark gray - Automation/PRS */
  --organelle-clinical: rgba(
    40,
    40,
    45,
    0.09
  ); /* Darkest subtle gray - Clinical Tool */

  /* Organelle depth gradients - Light theme (warm tint) */
  --organelle-education-highlight: rgba(255, 107, 53, 0.2);
  --organelle-education-shadow: rgba(233, 30, 99, 0.1);
  --organelle-research-highlight: rgba(255, 107, 53, 0.18);
  --organelle-research-shadow: rgba(233, 30, 99, 0.08);
  --organelle-automation-highlight: rgba(255, 107, 53, 0.22);
  --organelle-automation-shadow: rgba(233, 30, 99, 0.12);
  --organelle-clinical-highlight: rgba(255, 107, 53, 0.19);
  --organelle-clinical-shadow: rgba(233, 30, 99, 0.09);

  /* Hover glow */
  --organelle-hover-glow: #e91e63; /* Pink */

  /* Placeholder capsule colors - Light mode */
  --placeholder-bg-rgb: 50, 50, 55; /* Dark gray */
  --placeholder-border-rgb: 0, 0, 0; /* Black border */
}

html {
  /* Ensure proper viewport sizing on mobile */
  width: 100%;
  max-width: 100vw; /* Prevent overflow */
  height: 100%;
  min-height: 100dvh; /* Dynamic viewport height for mobile */
  overflow-x: hidden;
}

/* Mobile: prevent any horizontal overflow */
@media (max-width: 768px) {
  html,
  body {
    overflow-x: hidden !important;
    max-width: 100vw !important;
  }

  body > #root {
    overflow-x: hidden !important;
    max-width: 100vw !important;
  }
}

body {
  margin: 0;
  padding: 0;
  width: 100%;
  min-height: 100dvh; /* Use dvh for mobile viewport coverage */
  background-color: var(--bg-color);
  color: var(--text-color);
  font-family: "Inter", sans-serif;
  overflow-x: hidden;
  /* Reserve space for the scrollbar so layout doesn't shift when toggling overflow */
  scrollbar-gutter: stable;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Ensure #root fills viewport for shader background coverage */
#root {
  min-height: 100dvh;
  width: 100%;
  position: relative;
}

html.prevent-scroll,
body.prevent-scroll {
  overflow: hidden !important;
  /* Mobile-specific scroll lock - prevent touch scrolling */
  touch-action: none !important;
  -webkit-overflow-scrolling: auto !important;
  /* Prevent overscroll bounce on iOS */
  overscroll-behavior: none !important;
}

html.prevent-scroll {
  width: 100% !important;
  height: 100% !important;
}

body.prevent-scroll {
  /* Position fixed to completely prevent scrolling */
  position: fixed !important;
  left: 0 !important;
  right: 0 !important;
  width: 100% !important;
  height: 100vh !important;
}

/* Ensure the body's children can still scroll if they have overflow */
body.prevent-scroll > #root {
  overflow: visible !important;
  position: relative !important;
}

/* Modal active state - hide navbar and blur/dim background */
body.modal-active .navbar {
  opacity: 0 !important;
  pointer-events: none !important;
  transition: opacity 0.3s ease;
}

/* Blur all sections EXCEPT the about section (which contains the modal) */
body.modal-active .screen-section:not(.about-section) {
  filter: blur(20px) brightness(0.4) !important;
  transition: filter 0.3s ease;
}

/* Blur content INSIDE about section but not the modal */
body.modal-active .about-section .about-container {
  filter: blur(20px) brightness(0.4) !important;
  transition: filter 0.3s ease;
}

body.modal-active .shader-background {
  filter: blur(20px) brightness(0.4) !important;
  transition: filter 0.3s ease;
}

body.modal-active .hero {
  filter: blur(20px) brightness(0.4) !important;
  transition: filter 0.3s ease;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: "Inter", sans-serif;
  font-weight: 600;
  letter-spacing: -0.01em;
}

h1 {
  color: var(--h1-color);
}

h2 {
  color: var(--h2-color);
}

h3 {
  color: var(--h3-color);
}

h4,
h5,
h6 {
  color: var(--h4-color);
}

p {
  font-family: "Inter", sans-serif;
  font-weight: 300;
  line-height: 1.6;
}

span {
  font-family: "Inter", sans-serif;
  font-weight: 400;
}

a {
  color: var(--text-color);
  text-decoration: none;
}

.section {
  padding: 4rem 2rem;
}
