/* Container for stacked banners */
.skills-banners-container {
  width: 100vw;
  position: relative;
  /* Pull upward to peek into Hola viewport - creates sense of scroll */
  margin-top: -4vh; /* Negative margin pulls banner into Hola section */
  padding: 6vh 0 6vh 0; /* Consistent top and bottom spacing */
  overflow: visible; /* Allow beam to extend beyond wrapper */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0; /* No gap - banners will overlap */
}

/* Wrapper - full width container for single banner (Glass Version) */
.skills-banner-wrapper-glass {
  width: 100vw;
  height: auto; /* Auto height to fit tube with descenders */
  min-height: 55px; /* Thinner wrapper to match tube */
  position: relative;
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: visible; /* Allow descenders to show */
  /* Transform origin at center for rotation */
  transform-origin: center;
}

/* Stack banners with tiny spacing - just a little separation */
.skills-banner-wrapper-glass:not(:first-child) {
  margin-top: 0; /* Stack banners flush with each other */
}

/* DNA Unzipping Animation - Borders ARE the laser */
/* No separate particle beam needed - the tube borders create the laser effect */

/* Cylindrical Glass Tube - Dark smoked glass with open ends */
.skills-banner-tube-glass {
  width: 100vw; /* Full width - edge to edge */
  height: auto; /* Auto height to accommodate descenders */
  min-height: 55px; /* Thinner tube */
  position: relative;
  overflow: visible; /* Don't clip descenders (y, g, j, p, q) */
  padding: 6px 0; /* Less padding for thinner tube */

  /* NO border-radius - completely flat sides for open tube look */
  border-radius: 0;

  /* Dark mode - Subtle frosted glass with thin glowing borders */
  background: rgba(255, 255, 255, 0.05); /* Very subtle white tint */
  backdrop-filter: blur(10px); /* Light blur */
  -webkit-backdrop-filter: blur(10px);

  /* Thin borders with subtle glow to define edges */
  border-top: 1px solid rgba(255, 255, 255, 0.15);
  border-bottom: 1px solid rgba(255, 255, 255, 0.15);

  /* Subtle glow on borders to create tube definition */
  box-shadow:
    0 4px 16px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.1),
    0 -1px 8px rgba(255, 255, 255, 0.08),  /* Top glow */
    0 1px 8px rgba(255, 255, 255, 0.08);   /* Bottom glow */

  /* Enhanced 3D perspective for cylindrical effect */
  transform-style: preserve-3d;
  perspective: 800px;
}

/* Light theme tube - OPTION B: Clean frosted glass (lab equipment style) */
body.light-theme .skills-banner-tube-glass {
  /* Clean glass background from hero section */
  background: rgba(255, 255, 255, 0.15);

  /* Frosted glass blur - pristine and clear */
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);

  /* Clean borders - thin and subtle */
  border-top: 1px solid rgba(0, 0, 0, 0.08);
  border-bottom: 1px solid rgba(0, 0, 0, 0.08);

  /* Clean depth shadows - no colored glows, just glass */
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.8),
    0 1px 0 rgba(0, 0, 0, 0.02);
}

/* Curved top border - NO BORDER IN DARK MODE */
.tube-border-top {
  display: none; /* Remove in dark mode */
}

@keyframes laserPulse {
  0%, 100% {
    opacity: 1;
    filter: drop-shadow(0 0 6px rgba(255, 255, 255, 1))
            drop-shadow(0 0 12px rgba(255, 255, 255, 0.9))
            drop-shadow(0 0 24px rgba(255, 255, 255, 0.7))
            drop-shadow(0 0 40px rgba(255, 255, 255, 0.5));
  }
  50% {
    opacity: 0.85;
    filter: drop-shadow(0 0 8px rgba(255, 255, 255, 1))
            drop-shadow(0 0 16px rgba(255, 255, 255, 1))
            drop-shadow(0 0 32px rgba(255, 255, 255, 0.8))
            drop-shadow(0 0 50px rgba(255, 255, 255, 0.6));
  }
}

/* Departriculation effect - WHITE particles scatter upward from top border */
.tube-border-top::after {
  content: '';
  position: absolute;
  top: -20px;
  left: 0;
  right: 0;
  height: 20px;
  pointer-events: none;
  background:
    radial-gradient(circle at 20% 100%, rgba(255, 255, 255, 0.9) 0%, transparent 60%),
    radial-gradient(circle at 50% 100%, rgba(255, 255, 255, 0.7) 0%, transparent 70%),
    radial-gradient(circle at 80% 100%, rgba(255, 255, 255, 0.5) 0%, transparent 80%);
  background-size: 100px 100px, 120px 120px, 140px 140px;
  background-position: 20% 0%, 50% 0%, 80% 0%;
  filter: blur(4px);
  opacity: 0;
  animation: particleScatterUp 1.0s linear forwards;  /* FASTER: 1.8s → 1.0s */
}

@keyframes particleScatterUp {
  0% { opacity: 0; transform: translateY(0) scale(0.5); }
  30% { opacity: 0; }
  50% { opacity: 1; transform: translateY(-8px) scale(1); }
  100% { opacity: 0.3; transform: translateY(-15px) scale(0.7); }
}

/* Curved bottom border - NO BORDER IN DARK MODE */
.tube-border-bottom {
  display: none; /* Remove in dark mode */
}

/* Departriculation effect - WHITE particles scatter downward from bottom border */
.tube-border-bottom::after {
  content: '';
  position: absolute;
  bottom: -20px;
  left: 0;
  right: 0;
  height: 20px;
  pointer-events: none;
  background:
    radial-gradient(circle at 20% 0%, rgba(255, 255, 255, 0.9) 0%, transparent 60%),
    radial-gradient(circle at 50% 0%, rgba(255, 255, 255, 0.7) 0%, transparent 70%),
    radial-gradient(circle at 80% 0%, rgba(255, 255, 255, 0.5) 0%, transparent 80%);
  background-size: 100px 100px, 120px 120px, 140px 140px;
  background-position: 20% 100%, 50% 100%, 80% 100%;
  filter: blur(4px);
  opacity: 0;
  animation: particleScatterDown 1.0s linear forwards;  /* FASTER: 1.8s → 1.0s */
}

@keyframes particleScatterDown {
  0% { opacity: 0; transform: translateY(0) scale(0.5); }
  30% { opacity: 0; }
  50% { opacity: 1; transform: translateY(8px) scale(1); }
  100% { opacity: 0.3; transform: translateY(15px) scale(0.7); }
}

/* Light theme - NO BORDERS (using gradient edges instead) */
body.light-theme .tube-border-top {
  display: none;
}

body.light-theme .tube-border-bottom {
  display: none;
}

/* Pixelation REMOVED - blocking transparency */
.skills-banner-tube-glass::before {
  display: none;
}

/* Pixel density gradient REMOVED - blocking transparency */
.skills-banner-tube-glass::after {
  display: none;
}

/* Old shimmer animation removed - clean static glass now */

/* Scrolling track - genomic code sequence */
.skills-banner-track-glass {
  display: flex;
  gap: 0; /* No gap - connectors handle spacing */
  align-items: center;
  height: 100%;
  width: fit-content;

  /* SINGLE DIRECTION ONLY - left to right (5' to 3') */
  /* SLOWER SPEED - 100s default, overridden by inline style */
  /* LINEAR timing for constant speed - no acceleration/deceleration */
  animation: scrollGenomicCode 100s linear infinite;

  /* Performance optimization */
  will-change: transform;
  transform-style: preserve-3d;
}

/* Single direction scroll animation - left to right */
@keyframes scrollGenomicCode {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

@keyframes scrollGlass {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

/* ========== GENOMIC REGION STYLES ========== */

/* Common text styling for all genomic elements */
.gene-element-text {
  font-family: 'Monaco', 'Menlo', monospace;
  font-size: 1.4rem;
  font-weight: 500;
  letter-spacing: 0.05em;
  white-space: nowrap;
}

/* Exon - Filled box (Core technical skills) */
.gene-exon {
  display: inline-flex;
  align-items: center;
  padding: 8px 20px;
  border-radius: 4px;

  /* Dark mode - pure cyan (primary coding regions) */
  background: rgba(100, 200, 220, 0.15);
  border: 1px solid rgba(100, 200, 220, 0.3);
  color: rgba(100, 200, 220, 1);
}

body.light-theme .gene-exon {
  /* Pink fill - warm, vibrant (matching inspect button) */
  background: rgba(255, 100, 180, 0.2);
  border: 1px solid rgba(255, 100, 180, 0.4);
  color: #e91e63;
}

/* UTR - Outlined box (Soft/Communication skills) */
.gene-utr {
  display: inline-flex;
  align-items: center;
  padding: 8px 20px;
  border-radius: 4px;

  /* Dark mode - slightly more teal (subtle green shift for non-coding) */
  background: transparent;
  border: 2px solid rgba(80, 220, 200, 0.35);
  color: rgba(80, 220, 200, 0.9);
}

body.light-theme .gene-utr {
  /* Orange outline - warm gradient pair with pink exons */
  border: 2px solid rgba(255, 107, 53, 0.5);
  color: #ff6b35;
}

/* Regulatory - Small badge (Tools/Methods) */
.gene-regulatory {
  display: inline-flex;
  align-items: center;
  padding: 5px 14px;
  border-radius: 12px;

  /* Dark mode - slightly more blue (regulatory elements) */
  background: rgba(120, 180, 220, 0.12);
  border: 1px solid rgba(120, 180, 220, 0.25);
  color: rgba(120, 180, 220, 0.85);
}

.gene-regulatory .gene-element-text {
  font-size: 1.2rem;
}

body.light-theme .gene-regulatory {
  /* Cool teal-blue for regulatory (complements warm orange-pink) */
  background: rgba(120, 180, 220, 0.18);
  border: 1px solid rgba(120, 180, 220, 0.4);
  color: rgba(80, 140, 180, 1);
}

/* Intron - Connector with nucleotide sequence text */
.gene-intron {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: auto;
  margin: 0 8px;
}

.gene-intron-text {
  font-family: 'Monaco', 'Menlo', monospace;
  font-size: 1.3rem; /* Nearly as large as category names (1.4rem) */
  font-weight: 400;
  letter-spacing: 0.12em;

  /* Dark mode - lighter cyan for intron sequences */
  color: rgba(130, 210, 230, 0.5);
  opacity: 0.7;
}

/* Light theme introns - orange-pink blend */
body.light-theme .gene-intron-text {
  color: rgba(255, 107, 157, 0.7);
  opacity: 0.8;
}

/* Pause animation on hover REMOVED - was causing glitches */

/* Individual skill - glass version */
.skill-pill-glass {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  /* Monaco/Menlo monospace font */
  font-family: 'Monaco', 'Menlo', monospace;
  font-size: 2.8rem; /* Smaller for thinner tube */
  font-weight: 500; /* Slightly bolder */
  letter-spacing: 0.05em;
  line-height: 1.3; /* Normal line-height to show descenders */
  cursor: pointer;
  transition: all 0.3s ease;
  padding: 0;
  margin: 0;
  border: none;
  box-shadow: none;
  height: 100%; /* Fill the full tube height */
}

/* Tube flow animation - text distorts as it moves through cylindrical space */
@keyframes tubeFlow {
  0% {
    /* Entering from right - text compressed and tilted */
    transform: perspective(500px) rotateY(8deg) scaleX(0.85);
    opacity: 0.6;
  }
  15% {
    /* Moving into center - expanding */
    transform: perspective(500px) rotateY(4deg) scaleX(0.95);
    opacity: 0.9;
  }
  25% {
    /* Center of tube - fully visible, no distortion */
    transform: perspective(500px) rotateY(0deg) scaleX(1);
    opacity: 1;
  }
  50% {
    /* Still in center - maintain shape */
    transform: perspective(500px) rotateY(0deg) scaleX(1);
    opacity: 1;
  }
  75% {
    /* Exiting left side - starting to compress */
    transform: perspective(500px) rotateY(-4deg) scaleX(0.95);
    opacity: 0.9;
  }
  90% {
    /* Almost gone - compressed and tilted */
    transform: perspective(500px) rotateY(-8deg) scaleX(0.85);
    opacity: 0.6;
  }
  100% {
    /* Fully exited */
    transform: perspective(500px) rotateY(-10deg) scaleX(0.8);
    opacity: 0.3;
  }
}

/* OPTION 2: Solid category colors (DNA nucleotides) */
.skill-pill-glass .skill-name-glass {
  /* Color will be set via inline style from data-color */
  position: relative;
  z-index: 1;
  transition: all 0.3s ease;
  display: block;
  margin: 0; /* No negative margins - let descenders show */
  font-weight: 600; /* Slightly bolder for better visibility */
}

/* Pink - Counseling */
.skill-pill-glass .skill-name-glass[data-color="#E91E63"] {
  color: #E91E63;
  text-shadow: 0 0 12px rgba(233, 30, 99, 0.6);
}

/* Blue - Programming */
.skill-pill-glass .skill-name-glass[data-color="#2196F3"] {
  color: #2196F3;
  text-shadow: 0 0 12px rgba(33, 150, 243, 0.6);
}

/* Green - Statistics */
.skill-pill-glass .skill-name-glass[data-color="#4CAF50"] {
  color: #4CAF50;
  text-shadow: 0 0 12px rgba(76, 175, 80, 0.6);
}

/* Orange - Research */
.skill-pill-glass .skill-name-glass[data-color="#FF9800"] {
  color: #FF9800;
  text-shadow: 0 0 12px rgba(255, 152, 0, 0.6);
}

/* Light theme - same colors, different glow */
body.light-theme .skill-pill-glass .skill-name-glass[data-color="#E91E63"] {
  text-shadow: 0 0 8px rgba(233, 30, 99, 0.4);
}

body.light-theme .skill-pill-glass .skill-name-glass[data-color="#2196F3"] {
  text-shadow: 0 0 8px rgba(33, 150, 243, 0.4);
}

body.light-theme .skill-pill-glass .skill-name-glass[data-color="#4CAF50"] {
  text-shadow: 0 0 8px rgba(76, 175, 80, 0.4);
}

body.light-theme .skill-pill-glass .skill-name-glass[data-color="#FF9800"] {
  text-shadow: 0 0 8px rgba(255, 152, 0, 0.4);
}

/* Hover effect REMOVED - was causing glitches */

.skill-name-glass {
  position: relative;
  z-index: 1;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .skills-banners-container {
    width: 100%;
    margin-top: 0 !important; /* Override negative margin that pulls banners into Hola section */
    padding: 2vh 0 3vh;
  }

  .skills-banner-wrapper-glass {
    /* Remove vertical padding so mobile tubes stack flush */
    padding: 0;
    width: 100%;
    min-height: auto; /* Remove desktop min-height */
    margin-top: -8px; /* Overlap strips slightly to bring them closer */
  }

  .skills-banner-wrapper-glass:first-child {
    margin-top: 0; /* No negative margin on first strip */
  }

  .skills-banner-tube-glass {
    width: 100%; /* Respect section padding on mobile */
    height: 50px; /* Much smaller fixed height - was too big */
    min-height: 50px;
    max-height: 50px;
    backdrop-filter: blur(10px) saturate(180%);
    -webkit-backdrop-filter: blur(10px) saturate(180%);
    /* Remove side shadows on mobile - no shading on edges */
    box-shadow: none !important;
    border-top: 1px solid rgba(255, 255, 255, 0.15);
    border-bottom: 1px solid rgba(255, 255, 255, 0.15);
  }

  /* Light theme mobile - no shadows */
  body.light-theme .skills-banner-tube-glass {
    box-shadow: none !important;
    border-top: 1px solid rgba(0, 0, 0, 0.08);
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
  }

  .skills-banner-track-glass {
    gap: 4rem;
    animation: scrollGlass 45s linear infinite;
  }

  .skill-pill-glass {
    /* Smaller font for mobile - match desktop proportions */
    font-family: 'Monaco', 'Menlo', monospace; /* Use same font as desktop */
    font-size: 2rem; /* Much smaller - was 5.2rem, way too big */
    font-weight: 500; /* Match desktop weight */
    font-stretch: normal; /* Normal stretch */
    line-height: 1.3; /* Normal line-height to show descenders */
  }
}

@media (max-width: 480px) {
  .skills-banner-tube-glass {
    height: 45px; /* Even smaller for small phones */
    min-height: 45px;
    max-height: 45px;
  }

  .skills-banner-track-glass {
    gap: 3rem;
    animation: scrollGlass 35s linear infinite;
  }

  .skill-pill-glass {
    /* Smaller font for small phones */
    font-family: 'Monaco', 'Menlo', monospace; /* Same font as desktop */
    font-size: 1.8rem; /* Smaller for small screens */
    font-weight: 500;
    font-stretch: normal;
    line-height: 1.3; /* Normal line-height to show descenders */
  }
}

/* Respect prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  .skills-banner-track-glass {
    animation: none !important;
  }

  .skills-banner-tube-glass {
    animation: none !important;
  }
}
